{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "http://example.org/schema/infra.json",
    "$defs": {
        "Pool": {
            "$anchor": "Pool",
            "type": "object",
            "properties": {
                "user": {
                    "type": "string",
                    "default": "postgres"
                },
                "host": {
                    "type": "string",
                    "default": "localhost"
                },
                "database": {
                    "type": "string",
                    "default": "thesis"
                },
                "password": {
                    "type": "string",
                    "default": "123456789"
                },
                "port": {
                    "type": "integer",
                    "default": 5434
                },
                "has": {
                    "type": "array",
                    "items": {
                        "$ref": "https://register.geostandaarden.nl/jsonschema/uml2json/0.1/schema_definitions.json#/$defs/LinkObject"
                    },
                    "uniqueItems": true
                }
            },
            "required": [
                "properties"
            ]
        },
        "PostgreSql": {
            "$anchor": "postgresql",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataContainer"
            },
            "properties": {},
            "required": []
        },
        "Building": {
            "$anchor": "Building",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataModel"
            },
            "properties": {
                "properties": {
                    "gid": {
                        "type": "integer"
                    },
                    "geom": {
                        "$ref": "https://geojson.org/schema/Polygon.json"
                    },
                    "building_type": {
                        "type": "string"
                    },
                    "built_year": {
                        "type": "integer"
                    },
                    "ConnectToBuildingData": {
                        "type": {
                            "$ref": "#/$defs/ConnectToBuildingData"
                        }
                    }
                }
            },
            "required": [
                "gid",
                "geom",
                "ConnectToBuildingData"
            ]
        },
        "BusStop": {
            "$anchor": "BusStop",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataModel"
            },
            "properties": {
                "properties": {
                    "gid": {
                        "type": "integer"
                    },
                    "geom": {
                        "$ref": "https://geojson.org/schema/Point.json"
                    },
                    "station_name": {
                        "type": "string"
                    },
                    "lat": {
                        "type": "string"
                    },
                    "lon": {
                        "type": "string"
                    },
                    "ConnectToBusStopData": {
                        "type": {
                            "$ref": "#/$defs/ConnectToBusStopData"
                        }
                    }
                }
            },
            "required": [
                "gid",
                "geom",
                "ConnectToBusStopData"
            ]
        },
        "ConnectToBuildingData": {
            "$anchor": "ConnectToBuildingData",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DatabaseConnection"
            },
            "properties": {
                "query": {
                    "type": "string",
                    "default": "SELECT gid, building_type, built_year, ST_AsGeoJSON(ST_FlipCoordinates(geom)) FROM enschede.building_4326 WHERE (building_type = 1 AND built_year >= 2000)"
                }
            },
            "required": [
                "properties"
            ]
        },
        "ConnectToBusStopData": {
            "$anchor": "ConnectToBusStopData",
            "type": "object",
            "properties": {
                "query": {
                    "type": "string",
                    "default": "SELECT gid,station_name,ST_AsText(geom), lat,lon FROM enschede.busstop"
                }
            },
            "required": [
                "properties"
            ]
        },
        "DataFetcher": {
            "$anchor": "DataFetcher",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/BackendService"
            },
            "properties": {
                "pool": {
                    "type": {
                        "$ref": "#/$defs/Pool"
                    }
                },
                "runQuery": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "FetchBuildingData": {
            "$anchor": "FetchBuildingData",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/HttpProtocol"
            },
            "properties": {
                "request": {
                    "type": "object"
                },
                "response": {
                    "type": "object"
                }
            },
            "required": [
                "response"
            ]
        },
        "FetchBusStopData": {
            "$anchor": "FetchBuildingData",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/HttpProtocol"
            },
            "properties": {
                "request": {
                    "type": "object"
                },
                "response": {
                    "type": "object"
                }
            },
            "required": [
                "response"
            ]
        },
        "BuildingRoute": {
            "$anchor": "BuildingRoute",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Route"
            },
            "properties": {
                "method": {
                    "type": "string",
                    "default": "get"
                },
                "path": {
                    "type": "string",
                    "default": "/building"
                },
                "startRouter": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "BusStopRoute": {
            "$anchor": "BusStopRoute",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Route"
            },
            "properties": {
                "method": {
                    "type": "string",
                    "default": "get"
                },
                "path": {
                    "type": "string",
                    "default": "/busstop"
                },
                "startRouter": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "Server": {
            "$anchor": "Server",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Server"
            },
            "properties": {
                "port": {
                    "type": "integer",
                    "default": "5000"
                },
                "startExpress": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "useCors": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "useRoutes": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "listenServer": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "FetchBuilding": {
            "$anchor": "FetchBuilding",
            "type": "object",
            "properties": {
                "baseUrl": {
                    "type": "string",
                    "default": "http://localhost:5000"
                },
                "path": {
                    "type": "string",
                    "default": "/building"
                }
            },
            "required": [
                "properties"
            ],
            "methods": {
                "axiosGet": {
                    "return": "void"
                },
                "updateState": {
                    "return": "void"
                }
            }
        },
        "FetchBusStop": {
            "$anchor": "FetchBusStop",
            "type": "object",
            "properties": {
                "baseUrl": {
                    "type": "string",
                    "default": "http://localhost:5000"
                },
                "path": {
                    "type": "string",
                    "default": "/busstop"
                }
            },
            "required": [],
            "methods": {
                "axiosGet": {
                    "return": "void"
                },
                "updateState": {
                    "return": "void"
                }
            }
        },
        "GeoJsonParser": {
            "$anchor": "GeoJsonParser",
            "type": "object",
            "properties": {
                "data": {
                    "type": "object"
                }
            },
            "required": [],
            "methods": {
                "parseJson": {
                    "return": "object"
                }
            },
            "MapContainer": {
                "$anchor": "MapContainer",
                "type": "object",
                "properties": {
                    "center": {
                        "type": "array",
                        "default": [
                            52.206749,
                            6.8962
                        ],
                        "items": {
                            "type": "number"
                        }
                    },
                    "zoom": {
                        "type": "integer",
                        "default": "13"
                    },
                    "height": {
                        "type": "string",
                        "default": "100vh"
                    },
                    "width": {
                        "type": "string",
                        "default": "100%"
                    }
                },
                "required": [
                    "properties"
                ],
                "methods": {
                    "useState": {
                        "return": "array",
                        "items": {
                            "type": "object"
                        }
                    },
                    "useEffect": {
                        "return": "void"
                    }
                }
            }
        },
        "BusStopComponent": {
            "$anchor": "BusStopComponent",
            "type": "object",
            "properties": {
                "gid": {
                    "type": "integer"
                },
                "color": {
                    "type": "string",
                    "default": "blue"
                },
                "position": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "BuildingComponent": {
            "$anchor": "BuildingComponent",
            "type": "object",
            "properties": {
                "gid": {
                    "type": "integer"
                },
                "position": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "BusStopInfoPopup": {
            "$anchor": "BusStopInfoPopup",
            "type": "object",
            "properties": {
                "builtYear": {
                    "type": "integer"
                }
            },
            "required": [
                "properties"
            ]
        },
        "BuildingInfoPopup": {
            "$anchor": "BuildingInfoPopup",
            "type": "object",
            "properties": {
                "stationName": {
                    "type": "integer"
                }
            },
            "required": [
                "properties"
            ]
        },
        "App": {
            "$anchor": "App",
            "type": "object",
            "properties": {
                "port": {
                    "type": "integer",
                    "default": "3000"
                }
            },
            "required": [
                "properties"
            ]
        }
    }
}