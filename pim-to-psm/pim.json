{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://json-schema.org/draft/2020-12/schema",
    "$defs": {
        "Building": {
            "$anchor": "Building",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataContainer"
            },
            "properties": {
                "query": {
                    "type": "string",
                    "default": "SELECT gid, building_type, built_year, ST_AsGeoJSON(ST_FlipCoordinates(geom)) FROM enschede.building_4326 WHERE (building_type = 1 AND built_year >= 2000)"
                },
                "datacontainer": {
                    "type": {
                        "$ref": "#/$defs/DataContainers"
                    },
                    "default": "PostgreSQL"
                }
            },
            "required": [
                "properties"
            ]
        },
        "BusStop": {
            "$anchor": "BusStop",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataContainer"
            },
            "query": {
                "query": {
                    "type": "string",
                    "default": "SELECT gid,station_name,ST_AsText(geom), lat,lon FROM enschede.busstop LIMIT 100"
                },
                "datacontainer": {
                    "type": {
                        "$ref": "#/$defs/DataContainers"
                    },
                    "default": "PostgreSQL"
                }
            },
            "required": [
                "properties"
            ]
        },
        "OpenStreetMap": {
            "$anchor": "OpenStreetMap",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataService"
            },
            "query": {
                "url": {
                    "type": "string",
                    "default": "https://b.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"
                }
            },
            "required": [
                "properties"
            ]
        },
        "Map": {
            "$anchor": "Map",
            "type": {
                "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/UIComponent"
            },
            "properties": {
                "data": {
                    "type": "array",
                    "items": {
                        "type": {
                            "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/DataContainer"
                        },
                        "default": [
                            {
                                "$ref": "#/$defs/Building"
                            },
                            {
                                "$ref": "#/$defs/BusStop"
                            }
                        ]
                    },
                    "default": "https://b.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"
                },
                "uses": {
                    "type": "array",
                    "items": {
                        "$ref": "https://register.geostandaarden.nl/jsonschema/uml2json/0.1/schema_definitions.json#/$defs/LinkObject"
                    },
                    "uniqueItems": true
                },
                "updateMap": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "dragMap": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "zoomMap": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "selectDisplayedData": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                },
                "showDataInformation": {
                    "type": {
                        "$ref": "https://raw.githubusercontent.com/rifqialf/conceptual-design-gwa/main/CD-GWA-Profile.json#/$defs/Function"
                    }
                }
            },
            "required": [
                "properties"
            ]
        },
        "DataContainers": {
            "$anchor": "DataContainers",
            "type": "string",
            "enum": [
                "PostgreSQL",
                "MongoDB",
                "MySQL",
                "SQLite",
                "Apache Cassandra",
                "DynamoDB"
            ]
        }
    }
}